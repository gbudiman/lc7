; *** __global
; STORES "Please input an integer number: " input
; STORES "f>" fcl
; STORES " " space
; STORES "\n" eol
; *** F
; Generating code for function F
; LABEL F
; LINK
; STOREI 2 $T0
; LEQ $P0 $T0 LABEL1
; STOREI 1 $T1
; SUBI $P0 $T1 $T2
; PUSH
; PUSH $T2
; JSR F
; POP
; POP $T3
; STOREI $T3 $L0
; STOREI 2 $T4
; SUBI $P0 $T4 $T5
; PUSH
; PUSH $T5
; JSR F
; POP
; POP $T6
; STOREI $T6 $L1
; ADDI $L0 $L1 $T7
; STOREI $T7 $R
; RET
; JUMP LABEL0
; LABEL LABEL1
; STOREI 0 $T8
; NE $P0 $T8 LABEL3
; STOREI 0 $T9
; STOREI $T9 $R
; RET
; JUMP LABEL2
; LABEL LABEL3
; STOREI 1 $T10
; NE $P0 $T10 LABEL5
; STOREI 1 $T11
; STOREI $T11 $R
; RET
; JUMP LABEL4
; LABEL LABEL5
; STOREI 2 $T12
; NE $P0 $T12 LABEL7
; STOREI 1 $T13
; STOREI $T13 $R
; RET
; LABEL LABEL7
; LABEL LABEL6
; LABEL LABEL4
; LABEL LABEL2
; LABEL LABEL0
; *** main
; Generating code for function main
; LABEL main
; LINK
; STOREI 0 $T14
; STOREI $T14 $L0
; WRITES input
; READI $L1
; LABEL LABEL8
; PUSH
; PUSH $L0
; JSR F
; POP
; POP $T15
; STOREI $T15 $L2
; WRITEI $L0
; WRITES space
; WRITEI $L2
; WRITES eol
; STOREI 1 $T16
; ADDI $L0 $T16 $T17
; STOREI $T17 $L0
; GEQ $L0 $L1 LABEL10
; JUMP LABEL8
; LABEL LABEL10
; STOREI 0 $T18
; STOREI $T18 $R
; RET
str input "Please input an integer number: "
str fcl "f>"
str space " "
str eol "\n"
push
push r0
push r1
push r2
push r3
jsr main
sys halt
;Parsing: MAKESPACE 0
;Parsing: MAKEPARAM 0
;Parsing: MAKESPACE 2
;Parsing: MAKEPARAM 1
;Parsing: Generating code for function F
;Parsing: LABEL F
label F
link 2
;Parsing: LINK
;Parsing: STOREI 2 $T0
move 2 r0
;Parsing: LEQ $P0 $T0 LABEL1
cmpi $6 r0
jle LABEL1
;Parsing: STOREI 1 $T1
move 1 r1
;Parsing: SUBI $P0 $T1 $T2
move $6 r2
subi r1 r2
;Parsing: PUSH
push
;Parsing: PUSH $T2
push r2
;Parsing: JSR F
push r0
push r1
push r2
push r3
jsr F
pop r3
pop r2
pop r1
pop r0
;Parsing: POP
pop
;Parsing: POP $T3
pop r3
;Parsing: STOREI $T3 $L0
move r3 $-1
;Parsing: STOREI 2 $T4
move 2 r4
;Parsing: SUBI $P0 $T4 $T5
move $6 r5
subi r4 r5
;Parsing: PUSH
push
;Parsing: PUSH $T5
push r5
;Parsing: JSR F
push r0
push r1
push r2
push r3
jsr F
pop r3
pop r2
pop r1
pop r0
;Parsing: POP
pop
;Parsing: POP $T6
pop r6
;Parsing: STOREI $T6 $L1
move r6 $-2
;Parsing: ADDI $L0 $L1 $T7
move $-2 r8
move $-1 r7
addi $-2 r7
;Parsing: STOREI $T7 $R
move r7 r9
move r9 $7
;Parsing: RET
unlnk
ret
;Parsing: JUMP LABEL0
jmp LABEL0
;Parsing: LABEL LABEL1
label LABEL1
;Parsing: STOREI 0 $T8
move 0 r10
;Parsing: NE $P0 $T8 LABEL3
cmpi $6 r10
jne LABEL3
;Parsing: STOREI 0 $T9
move 0 r11
;Parsing: STOREI $T9 $R
move r11 r12
move r12 $7
;Parsing: RET
unlnk
ret
;Parsing: JUMP LABEL2
jmp LABEL2
;Parsing: LABEL LABEL3
label LABEL3
;Parsing: STOREI 1 $T10
move 1 r13
;Parsing: NE $P0 $T10 LABEL5
cmpi $6 r13
jne LABEL5
;Parsing: STOREI 1 $T11
move 1 r14
;Parsing: STOREI $T11 $R
move r14 r15
move r15 $7
;Parsing: RET
unlnk
ret
;Parsing: JUMP LABEL4
jmp LABEL4
;Parsing: LABEL LABEL5
label LABEL5
;Parsing: STOREI 2 $T12
move 2 r16
;Parsing: NE $P0 $T12 LABEL7
cmpi $6 r16
jne LABEL7
;Parsing: STOREI 1 $T13
move 1 r17
;Parsing: STOREI $T13 $R
move r17 r18
move r18 $7
;Parsing: RET
unlnk
ret
;Parsing: LABEL LABEL7
label LABEL7
;Parsing: LABEL LABEL6
label LABEL6
;Parsing: LABEL LABEL4
label LABEL4
;Parsing: LABEL LABEL2
label LABEL2
;Parsing: LABEL LABEL0
label LABEL0
;Parsing: MAKESPACE 3
;Parsing: MAKEPARAM 0
;Parsing: Generating code for function main
;Parsing: LABEL main
label main
link 3
;Parsing: LINK
;Parsing: STOREI 0 $T14
move 0 r19
;Parsing: STOREI $T14 $L0
move r19 $-1
;Parsing: WRITES input
sys writes input
;Parsing: READI $L1
sys readi $-2
;Parsing: LABEL LABEL8
label LABEL8
;Parsing: PUSH
push
;Parsing: PUSH $L0
push $-1
;Parsing: JSR F
push r0
push r1
push r2
push r3
jsr F
pop r3
pop r2
pop r1
pop r0
;Parsing: POP
pop
;Parsing: POP $T15
pop r20
;Parsing: STOREI $T15 $L2
move r20 $-3
;Parsing: WRITEI $L0
sys writei $-1
;Parsing: WRITES space
sys writes space
;Parsing: WRITEI $L2
sys writei $-3
;Parsing: WRITES eol
sys writes eol
;Parsing: STOREI 1 $T16
move 1 r21
;Parsing: ADDI $L0 $T16 $T17
move $-1 r22
addi r21 r22
;Parsing: STOREI $T17 $L0
move r22 $-1
;Parsing: GEQ $L0 $L1 LABEL10
move $-2 r23
cmpi $-1 r23
jge LABEL10
;Parsing: JUMP LABEL8
jmp LABEL8
;Parsing: LABEL LABEL10
label LABEL10
;Parsing: STOREI 0 $T18
move 0 r24
;Parsing: STOREI $T18 $R
move r24 r25
move r25 $6
;Parsing: RET
unlnk
ret
end
