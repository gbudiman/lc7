; *** __global
; STORES "Function a returns: " l1
; STORES "Function b returns: " l2
; STORES " - " minus
; STORES " = " equal
; STORES "\n" eol
; *** a
; Generating code for function a
; LABEL a
; LINK
; STOREI 12 $T0
; LEQ $P3 $T0 LABEL1
; WRITES l1
; WRITEF $P0
; WRITES eol
; STOREF $P0 $R
; RET
; JUMP LABEL0
; LABEL LABEL1
; WRITES l1
; WRITEF $P1
; WRITES eol
; STOREF $P1 $R
; RET
; LABEL LABEL0
; *** b
; Generating code for function b
; LABEL b
; LINK
; LABEL LABEL2
; STOREI 1 $T1
; ADDI $P0 $T1 $T2
; STOREF $T2 $P0
; STOREI 1 $T3
; SUBI $P2 $T3 $T4
; STOREF $T4 $P2
; STOREI 0 $T5
; LEQF $P2 $T5 LABEL4
; JUMP LABEL2
; LABEL LABEL4
; SUBF $P0 $P1 $T6
; STOREF $T6 $L0
; WRITES l2
; WRITEF $P0
; WRITES minus
; WRITEF $P1
; WRITES equal
; WRITEF $L0
; WRITES eol
; SUBF $P0 $P1 $T7
; STOREF $T7 $R
; RET
; *** dxg
; Generating code for function dxg
; LABEL dxg
; LINK
; SUBI $P0 $P1 $T8
; STOREI $T8 $R
; RET
; *** main
; Generating code for function main
; LABEL main
; LINK
; STOREF 5.0 $T9
; STOREF 3.8 $T10
; STOREI 7 $T11
; STOREI 8 $T12
; PUSH
; PUSH $T9
; PUSH $T10
; PUSH $T11
; PUSH $T12
; JSR a
; POP
; POP
; POP
; POP
; POP $T13
; STOREF 3.8 $T14
; STOREI 4 $T15
; STOREI 5 $T16
; PUSH
; PUSH $T14
; PUSH $T15
; PUSH $T16
; JSR b
; POP
; POP
; POP
; POP $T17
; STOREI 7 $T18
; STOREF 2.1 $T19
; STOREF 3.1 $T20
; PUSH
; PUSH $T18
; PUSH $T19
; PUSH $T20
; JSR b
; POP
; POP
; POP
; POP $T21
; SUBI $T17 $T21 $T22
; MULTI $T13 $T22 $T23
; STOREF $T23 $L2
; STOREI 10 $T24
; STOREI $T24 d
; STOREI 120 $T25
; STOREI $T25 e
; PUSH
; PUSH d
; PUSH e
; JSR dxg
; POP
; POP
; POP $T26
; STOREI $T26 $L3
; WRITEF $L2
; WRITES eol
; WRITEI d
; WRITEI e
; WRITES eol
; WRITEI $L3
; STOREI 0 $T27
; STOREI $T27 $R
; RET
str l1 "Function a returns: "
str l2 "Function b returns: "
str minus " - "
str equal " = "
str eol "\n"
var d
var e
push
push r0
push r1
push r2
push r3
jsr main
sys halt
;Parsing: MAKESPACE 2
;Parsing: MAKEPARAM 0
;Parsing: MAKESPACE 1
;Parsing: MAKEPARAM 4
;Parsing: Generating code for function a
;Parsing: LABEL a
label a
link 1
;Parsing: LINK
;Parsing: STOREI 12 $T0
move 12 r0
;Parsing: LEQ $P3 $T0 LABEL1
cmpi $6 r0
jle LABEL1
;Parsing: WRITES l1
sys writes l1
;Parsing: WRITEF $P0
sys writer $9
;Parsing: WRITES eol
sys writes eol
;Parsing: STOREF $P0 $R
move $9 r1
move r1 $10
;Parsing: RET
unlnk
ret
;Parsing: JUMP LABEL0
jmp LABEL0
;Parsing: LABEL LABEL1
label LABEL1
;Parsing: WRITES l1
sys writes l1
;Parsing: WRITEF $P1
sys writer $8
;Parsing: WRITES eol
sys writes eol
;Parsing: STOREF $P1 $R
move $8 r2
move r2 $10
;Parsing: RET
unlnk
ret
;Parsing: LABEL LABEL0
label LABEL0
;Parsing: MAKESPACE 1
;Parsing: MAKEPARAM 3
;Parsing: Generating code for function b
;Parsing: LABEL b
label b
link 1
;Parsing: LINK
;Parsing: LABEL LABEL2
label LABEL2
;Parsing: STOREI 1 $T1
move 1 r3
;Parsing: ADDI $P0 $T1 $T2
move $8 r4
addi r3 r4
;Parsing: STOREF $T2 $P0
move r4 $8
;Parsing: STOREI 1 $T3
move 1 r5
;Parsing: SUBI $P2 $T3 $T4
move $6 r6
subi r5 r6
;Parsing: STOREF $T4 $P2
move r6 $6
;Parsing: STOREI 0 $T5
move 0 r7
;Parsing: LEQF $P2 $T5 LABEL4
cmpr $6 r7
jle LABEL4
;Parsing: JUMP LABEL2
jmp LABEL2
;Parsing: LABEL LABEL4
label LABEL4
;Parsing: SUBF $P0 $P1 $T6
move $8 r8
subr $7 r8
;Parsing: STOREF $T6 $L0
move r8 $-1
;Parsing: WRITES l2
sys writes l2
;Parsing: WRITEF $P0
sys writer $8
;Parsing: WRITES minus
sys writes minus
;Parsing: WRITEF $P1
sys writer $7
;Parsing: WRITES equal
sys writes equal
;Parsing: WRITEF $L0
sys writer $-1
;Parsing: WRITES eol
sys writes eol
;Parsing: SUBF $P0 $P1 $T7
move $8 r9
subr $7 r9
;Parsing: STOREF $T7 $R
move r9 r10
move r10 $9
;Parsing: RET
unlnk
ret
;Parsing: MAKESPACE 0
;Parsing: MAKEPARAM 2
;Parsing: Generating code for function dxg
;Parsing: LABEL dxg
label dxg
link 0
;Parsing: LINK
;Parsing: SUBI $P0 $P1 $T8
move $7 r11
subi $6 r11
;Parsing: STOREI $T8 $R
move r11 r12
move r12 $8
;Parsing: RET
unlnk
ret
;Parsing: MAKESPACE 4
;Parsing: MAKEPARAM 0
;Parsing: Generating code for function main
;Parsing: LABEL main
label main
link 4
;Parsing: LINK
;Parsing: STOREF 5.0 $T9
move 5.0 r13
;Parsing: STOREF 3.8 $T10
move 3.8 r14
;Parsing: STOREI 7 $T11
move 7 r15
;Parsing: STOREI 8 $T12
move 8 r16
;Parsing: PUSH
push
;Parsing: PUSH $T9
push r13
;Parsing: PUSH $T10
push r14
;Parsing: PUSH $T11
push r15
;Parsing: PUSH $T12
push r16
;Parsing: JSR a
push r0
push r1
push r2
push r3
jsr a
pop r3
pop r2
pop r1
pop r0
;Parsing: POP
pop
;Parsing: POP
pop
;Parsing: POP
pop
;Parsing: POP
pop
;Parsing: POP $T13
pop r17
;Parsing: STOREF 3.8 $T14
move 3.8 r18
;Parsing: STOREI 4 $T15
move 4 r19
;Parsing: STOREI 5 $T16
move 5 r20
;Parsing: PUSH
push
;Parsing: PUSH $T14
push r18
;Parsing: PUSH $T15
push r19
;Parsing: PUSH $T16
push r20
;Parsing: JSR b
push r0
push r1
push r2
push r3
jsr b
pop r3
pop r2
pop r1
pop r0
;Parsing: POP
pop
;Parsing: POP
pop
;Parsing: POP
pop
;Parsing: POP $T17
pop r21
;Parsing: STOREI 7 $T18
move 7 r22
;Parsing: STOREF 2.1 $T19
move 2.1 r23
;Parsing: STOREF 3.1 $T20
move 3.1 r24
;Parsing: PUSH
push
;Parsing: PUSH $T18
push r22
;Parsing: PUSH $T19
push r23
;Parsing: PUSH $T20
push r24
;Parsing: JSR b
push r0
push r1
push r2
push r3
jsr b
pop r3
pop r2
pop r1
pop r0
;Parsing: POP
pop
;Parsing: POP
pop
;Parsing: POP
pop
;Parsing: POP $T21
pop r25
;Parsing: SUBI $T17 $T21 $T22
move r21 r26
subi r25 r26
;Parsing: MULTI $T13 $T22 $T23
move r17 r27
muli r26 r27
;Parsing: STOREF $T23 $L2
move r27 $-1
;Parsing: STOREI 10 $T24
move 10 r28
;Parsing: STOREI $T24 d
move r28 d
;Parsing: STOREI 120 $T25
move 120 r29
;Parsing: STOREI $T25 e
move r29 e
;Parsing: PUSH
push
;Parsing: PUSH d
push d
;Parsing: PUSH e
push e
;Parsing: JSR dxg
push r0
push r1
push r2
push r3
jsr dxg
pop r3
pop r2
pop r1
pop r0
;Parsing: POP
pop
;Parsing: POP
pop
;Parsing: POP $T26
pop r30
;Parsing: STOREI $T26 $L3
move r30 $-2
;Parsing: WRITEF $L2
sys writer $-1
;Parsing: WRITES eol
sys writes eol
;Parsing: WRITEI d
sys writei d
;Parsing: WRITEI e
sys writei e
;Parsing: WRITES eol
sys writes eol
;Parsing: WRITEI $L3
sys writei $-2
;Parsing: STOREI 0 $T27
move 0 r31
;Parsing: STOREI $T27 $R
move r31 r32
move r32 $6
;Parsing: RET
unlnk
ret
end
